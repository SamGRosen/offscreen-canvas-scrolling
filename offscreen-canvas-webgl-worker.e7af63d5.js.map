{"version":3,"sources":["../scripts/drawer.js","../../node_modules/kdbush/src/sort.js","../../node_modules/kdbush/src/range.js","../../node_modules/kdbush/src/within.js","../../node_modules/kdbush/src/index.js","../../node_modules/supercluster/index.js","../../node_modules/regenerator-runtime/runtime.js","../scripts/utilities.js","../scripts/webgl.js","../scripts/canvas-webgl-drawer.js","../scripts/offscreen-canvas-webgl-worker.js"],"names":["Drawer","data","canvas","width","height","receiveState","minX","maxX","minY","maxY","currentXRange","currentYRange","count","controls","dataset","csv","needsAnimation","lastFrame","cancelAnimationFrame","renderSquares","renderRandom","renderJittered","renderTSNE","console","error","sortKD","ids","coords","nodeSize","left","right","depth","m","select","k","inc","n","z","Math","log","s","exp","sd","sqrt","max","floor","min","t","i","j","swapItem","swap","arr","tmp","range","stack","length","result","x","y","axis","pop","push","nextAxis","within","qx","qy","r","r2","sqDist","ax","ay","bx","by","dx","dy","defaultGetX","p","defaultGetY","KDBush","constructor","points","getX","getY","ArrayType","Float64Array","IndexArrayType","Uint16Array","Uint32Array","defaultOptions","minZoom","maxZoom","minPoints","radius","extent","generateId","reduce","map","props","fround","Float32Array","Supercluster","options","extend","Object","create","trees","Array","load","time","timerId","clusters","geometry","createPointCluster","timeEnd","now","Date","_cluster","getClusters","bbox","zoom","minLng","minLat","maxLng","maxLat","easternHem","westernHem","concat","tree","_limitZoom","lngX","latY","id","c","numPoints","getClusterJSON","index","getChildren","clusterId","originId","_getOriginId","originZoom","_getOriginZoom","errorMsg","Error","origin","pow","children","parentId","getLeaves","limit","offset","leaves","_appendLeaves","getTile","z2","top","bottom","tile","features","_addTileFeatures","getClusterExpansionZoom","expansionZoom","properties","cluster_id","skipped","child","cluster","point_count","isCluster","tags","px","py","getClusterProperties","coordinates","f","type","round","undefined","neighborIds","numPointsOrigin","neighborId","b","wx","wy","clusterProperties","_map","numPoints2","createCluster","point","clone","original","Infinity","xLng","yLat","abbrev","point_count_abbreviated","lng","lat","sin","PI","y2","atan","dest","src","JITTER_FACTOR","scale","domain","domainLength","slope","intercept","loadShader","gl","source","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","deleteShader","initShaderProgram","vertexSource","fragmentSource","vertexShader","VERTEX_SHADER","fragmentShader","FRAGMENT_SHADER","shaderProgram","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","componentToHex","hex","toString","rgbToHex","g","parseInt","Number","createMessanger","clazz","self","e","drawer","render","SuperclusterMapper","xRange","yRange","xScale","yScale","xScaleInverse","yScaleInverse","zoomLevel","inLatLong","getRandomColor","random","getRandomColorAlpha","alpha","squaresFragmentShader","colorPointsVertexShader","colorPointsFragmentShader","WebGLCanvasDrawer","getContext","windowWidth","windowHeight","displayAsIfThisWide","displayAsIfThisHigh","scaleXWindowSpace","scaleYWindowSpace","requestAnimationFrame","animateSquares","bind","tick","clearColor","clear","COLOR_BUFFER_BIT","viewport","getWebGLViewport","uniform4fv","programInfo","uniformLocations","getParameter","VIEWPORT","drawArrays","TRIANGLES","vertexCount","trueBoxWidth","value","trueBoxHeight","program","attribLocations","vertexPosition","getAttribLocation","gridSize","getUniformLocation","positionBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","scaleX","scaleY","positions","bufferData","STATIC_DRAW","vertexAttribPointer","FLOAT","enableVertexAttribArray","useProgram","uniform1f","animateJittered","disable","BLEND","scaleXWithJitter","inClipSpace","scaleYWithJitter","scaleBlue","scaleRed","vertexColor","colors","colorBuffer","animateRandom","POINTS","animateTSNE","enable","blendFunc","SRC_COLOR","DST_COLOR","sampleColors","Map","split","letter","xTSNEScale","yTSNEScale","get","sample","OffscreenWebGLCanvasDrawer","postMessage","onmessage"],"mappings":"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","file":"offscreen-canvas-webgl-worker.e7af63d5.js","sourceRoot":"../src/pages","sourcesContent":["class Drawer {\n  constructor(data) {\n    this.canvas = data.canvas;\n    this.width = data.canvas.width;\n    this.height = data.canvas.height;\n    this.receiveState(data);\n  }\n\n  receiveState(data) {\n    this.minX = data.minX;\n    this.maxX = data.maxX;\n    this.minY = data.minY;\n    this.maxY = data.maxY;\n    this.currentXRange = [...data.currentXRange];\n    this.currentYRange = [...data.currentYRange];\n    this.count = data.count;\n    this.controls = data.controls;\n    this.dataset = data.dataset;\n    if (data.csv) {\n      this.csv = data.csv;\n    }\n\n    this.needsAnimation = true;\n  }\n\n  tick() {}\n\n  animate() {}\n\n  render() {\n    if (this.lastFrame) {\n      // Avoid overlapping animation requests\n      cancelAnimationFrame(this.lastFrame);\n    }\n\n    switch (this.dataset) {\n      case \"squares\":\n        this.renderSquares();\n        break;\n      case \"random\":\n        this.renderRandom();\n        break;\n      case \"jittered\":\n        this.renderJittered();\n        break;\n      case \"tsne\":\n        this.renderTSNE();\n        break;\n      default:\n        console.error(\n          `Did not receive valid dataset to render: ${this.dataset}`\n        );\n    }\n  }\n}\n\nexport default Drawer;\n","\nexport default function sortKD(ids, coords, nodeSize, left, right, depth) {\n    if (right - left <= nodeSize) return;\n\n    const m = (left + right) >> 1;\n\n    select(ids, coords, m, left, right, depth % 2);\n\n    sortKD(ids, coords, nodeSize, left, m - 1, depth + 1);\n    sortKD(ids, coords, nodeSize, m + 1, right, depth + 1);\n}\n\nfunction select(ids, coords, k, left, right, inc) {\n\n    while (right > left) {\n        if (right - left > 600) {\n            const n = right - left + 1;\n            const m = k - left + 1;\n            const z = Math.log(n);\n            const s = 0.5 * Math.exp(2 * z / 3);\n            const sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n            const newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n            const newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n            select(ids, coords, k, newLeft, newRight, inc);\n        }\n\n        const t = coords[2 * k + inc];\n        let i = left;\n        let j = right;\n\n        swapItem(ids, coords, left, k);\n        if (coords[2 * right + inc] > t) swapItem(ids, coords, left, right);\n\n        while (i < j) {\n            swapItem(ids, coords, i, j);\n            i++;\n            j--;\n            while (coords[2 * i + inc] < t) i++;\n            while (coords[2 * j + inc] > t) j--;\n        }\n\n        if (coords[2 * left + inc] === t) swapItem(ids, coords, left, j);\n        else {\n            j++;\n            swapItem(ids, coords, j, right);\n        }\n\n        if (j <= k) left = j + 1;\n        if (k <= j) right = j - 1;\n    }\n}\n\nfunction swapItem(ids, coords, i, j) {\n    swap(ids, i, j);\n    swap(coords, 2 * i, 2 * j);\n    swap(coords, 2 * i + 1, 2 * j + 1);\n}\n\nfunction swap(arr, i, j) {\n    const tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n","\nexport default function range(ids, coords, minX, minY, maxX, maxY, nodeSize) {\n    const stack = [0, ids.length - 1, 0];\n    const result = [];\n    let x, y;\n\n    while (stack.length) {\n        const axis = stack.pop();\n        const right = stack.pop();\n        const left = stack.pop();\n\n        if (right - left <= nodeSize) {\n            for (let i = left; i <= right; i++) {\n                x = coords[2 * i];\n                y = coords[2 * i + 1];\n                if (x >= minX && x <= maxX && y >= minY && y <= maxY) result.push(ids[i]);\n            }\n            continue;\n        }\n\n        const m = Math.floor((left + right) / 2);\n\n        x = coords[2 * m];\n        y = coords[2 * m + 1];\n\n        if (x >= minX && x <= maxX && y >= minY && y <= maxY) result.push(ids[m]);\n\n        const nextAxis = (axis + 1) % 2;\n\n        if (axis === 0 ? minX <= x : minY <= y) {\n            stack.push(left);\n            stack.push(m - 1);\n            stack.push(nextAxis);\n        }\n        if (axis === 0 ? maxX >= x : maxY >= y) {\n            stack.push(m + 1);\n            stack.push(right);\n            stack.push(nextAxis);\n        }\n    }\n\n    return result;\n}\n","\nexport default function within(ids, coords, qx, qy, r, nodeSize) {\n    const stack = [0, ids.length - 1, 0];\n    const result = [];\n    const r2 = r * r;\n\n    while (stack.length) {\n        const axis = stack.pop();\n        const right = stack.pop();\n        const left = stack.pop();\n\n        if (right - left <= nodeSize) {\n            for (let i = left; i <= right; i++) {\n                if (sqDist(coords[2 * i], coords[2 * i + 1], qx, qy) <= r2) result.push(ids[i]);\n            }\n            continue;\n        }\n\n        const m = Math.floor((left + right) / 2);\n\n        const x = coords[2 * m];\n        const y = coords[2 * m + 1];\n\n        if (sqDist(x, y, qx, qy) <= r2) result.push(ids[m]);\n\n        const nextAxis = (axis + 1) % 2;\n\n        if (axis === 0 ? qx - r <= x : qy - r <= y) {\n            stack.push(left);\n            stack.push(m - 1);\n            stack.push(nextAxis);\n        }\n        if (axis === 0 ? qx + r >= x : qy + r >= y) {\n            stack.push(m + 1);\n            stack.push(right);\n            stack.push(nextAxis);\n        }\n    }\n\n    return result;\n}\n\nfunction sqDist(ax, ay, bx, by) {\n    const dx = ax - bx;\n    const dy = ay - by;\n    return dx * dx + dy * dy;\n}\n","\nimport sort from './sort';\nimport range from './range';\nimport within from './within';\n\nconst defaultGetX = p => p[0];\nconst defaultGetY = p => p[1];\n\nexport default class KDBush {\n    constructor(points, getX = defaultGetX, getY = defaultGetY, nodeSize = 64, ArrayType = Float64Array) {\n        this.nodeSize = nodeSize;\n        this.points = points;\n\n        const IndexArrayType = points.length < 65536 ? Uint16Array : Uint32Array;\n\n        const ids = this.ids = new IndexArrayType(points.length);\n        const coords = this.coords = new ArrayType(points.length * 2);\n\n        for (let i = 0; i < points.length; i++) {\n            ids[i] = i;\n            coords[2 * i] = getX(points[i]);\n            coords[2 * i + 1] = getY(points[i]);\n        }\n\n        sort(ids, coords, nodeSize, 0, ids.length - 1, 0);\n    }\n\n    range(minX, minY, maxX, maxY) {\n        return range(this.ids, this.coords, minX, minY, maxX, maxY, this.nodeSize);\n    }\n\n    within(x, y, r) {\n        return within(this.ids, this.coords, x, y, r, this.nodeSize);\n    }\n}\n","\nimport KDBush from 'kdbush';\n\nconst defaultOptions = {\n    minZoom: 0,   // min zoom to generate clusters on\n    maxZoom: 16,  // max zoom level to cluster the points on\n    minPoints: 2, // minimum points to form a cluster\n    radius: 40,   // cluster radius in pixels\n    extent: 512,  // tile extent (radius is calculated relative to it)\n    nodeSize: 64, // size of the KD-tree leaf node, affects performance\n    log: false,   // whether to log timing info\n\n    // whether to generate numeric ids for input features (in vector tiles)\n    generateId: false,\n\n    // a reduce function for calculating custom cluster properties\n    reduce: null, // (accumulated, props) => { accumulated.sum += props.sum; }\n\n    // properties to use for individual points when running the reducer\n    map: props => props // props => ({sum: props.my_value})\n};\n\nconst fround = Math.fround || (tmp => ((x) => { tmp[0] = +x; return tmp[0]; }))(new Float32Array(1));\n\nexport default class Supercluster {\n    constructor(options) {\n        this.options = extend(Object.create(defaultOptions), options);\n        this.trees = new Array(this.options.maxZoom + 1);\n    }\n\n    load(points) {\n        const {log, minZoom, maxZoom, nodeSize} = this.options;\n\n        if (log) console.time('total time');\n\n        const timerId = `prepare ${  points.length  } points`;\n        if (log) console.time(timerId);\n\n        this.points = points;\n\n        // generate a cluster object for each point and index input points into a KD-tree\n        let clusters = [];\n        for (let i = 0; i < points.length; i++) {\n            if (!points[i].geometry) continue;\n            clusters.push(createPointCluster(points[i], i));\n        }\n        this.trees[maxZoom + 1] = new KDBush(clusters, getX, getY, nodeSize, Float32Array);\n\n        if (log) console.timeEnd(timerId);\n\n        // cluster points on max zoom, then cluster the results on previous zoom, etc.;\n        // results in a cluster hierarchy across zoom levels\n        for (let z = maxZoom; z >= minZoom; z--) {\n            const now = +Date.now();\n\n            // create a new set of clusters for the zoom and index them with a KD-tree\n            clusters = this._cluster(clusters, z);\n            this.trees[z] = new KDBush(clusters, getX, getY, nodeSize, Float32Array);\n\n            if (log) console.log('z%d: %d clusters in %dms', z, clusters.length, +Date.now() - now);\n        }\n\n        if (log) console.timeEnd('total time');\n\n        return this;\n    }\n\n    getClusters(bbox, zoom) {\n        let minLng = ((bbox[0] + 180) % 360 + 360) % 360 - 180;\n        const minLat = Math.max(-90, Math.min(90, bbox[1]));\n        let maxLng = bbox[2] === 180 ? 180 : ((bbox[2] + 180) % 360 + 360) % 360 - 180;\n        const maxLat = Math.max(-90, Math.min(90, bbox[3]));\n\n        if (bbox[2] - bbox[0] >= 360) {\n            minLng = -180;\n            maxLng = 180;\n        } else if (minLng > maxLng) {\n            const easternHem = this.getClusters([minLng, minLat, 180, maxLat], zoom);\n            const westernHem = this.getClusters([-180, minLat, maxLng, maxLat], zoom);\n            return easternHem.concat(westernHem);\n        }\n\n        const tree = this.trees[this._limitZoom(zoom)];\n        const ids = tree.range(lngX(minLng), latY(maxLat), lngX(maxLng), latY(minLat));\n        const clusters = [];\n        for (const id of ids) {\n            const c = tree.points[id];\n            clusters.push(c.numPoints ? getClusterJSON(c) : this.points[c.index]);\n        }\n        return clusters;\n    }\n\n    getChildren(clusterId) {\n        const originId = this._getOriginId(clusterId);\n        const originZoom = this._getOriginZoom(clusterId);\n        const errorMsg = 'No cluster with the specified id.';\n\n        const index = this.trees[originZoom];\n        if (!index) throw new Error(errorMsg);\n\n        const origin = index.points[originId];\n        if (!origin) throw new Error(errorMsg);\n\n        const r = this.options.radius / (this.options.extent * Math.pow(2, originZoom - 1));\n        const ids = index.within(origin.x, origin.y, r);\n        const children = [];\n        for (const id of ids) {\n            const c = index.points[id];\n            if (c.parentId === clusterId) {\n                children.push(c.numPoints ? getClusterJSON(c) : this.points[c.index]);\n            }\n        }\n\n        if (children.length === 0) throw new Error(errorMsg);\n\n        return children;\n    }\n\n    getLeaves(clusterId, limit, offset) {\n        limit = limit || 10;\n        offset = offset || 0;\n\n        const leaves = [];\n        this._appendLeaves(leaves, clusterId, limit, offset, 0);\n\n        return leaves;\n    }\n\n    getTile(z, x, y) {\n        const tree = this.trees[this._limitZoom(z)];\n        const z2 = Math.pow(2, z);\n        const {extent, radius} = this.options;\n        const p = radius / extent;\n        const top = (y - p) / z2;\n        const bottom = (y + 1 + p) / z2;\n\n        const tile = {\n            features: []\n        };\n\n        this._addTileFeatures(\n            tree.range((x - p) / z2, top, (x + 1 + p) / z2, bottom),\n            tree.points, x, y, z2, tile);\n\n        if (x === 0) {\n            this._addTileFeatures(\n                tree.range(1 - p / z2, top, 1, bottom),\n                tree.points, z2, y, z2, tile);\n        }\n        if (x === z2 - 1) {\n            this._addTileFeatures(\n                tree.range(0, top, p / z2, bottom),\n                tree.points, -1, y, z2, tile);\n        }\n\n        return tile.features.length ? tile : null;\n    }\n\n    getClusterExpansionZoom(clusterId) {\n        let expansionZoom = this._getOriginZoom(clusterId) - 1;\n        while (expansionZoom <= this.options.maxZoom) {\n            const children = this.getChildren(clusterId);\n            expansionZoom++;\n            if (children.length !== 1) break;\n            clusterId = children[0].properties.cluster_id;\n        }\n        return expansionZoom;\n    }\n\n    _appendLeaves(result, clusterId, limit, offset, skipped) {\n        const children = this.getChildren(clusterId);\n\n        for (const child of children) {\n            const props = child.properties;\n\n            if (props && props.cluster) {\n                if (skipped + props.point_count <= offset) {\n                    // skip the whole cluster\n                    skipped += props.point_count;\n                } else {\n                    // enter the cluster\n                    skipped = this._appendLeaves(result, props.cluster_id, limit, offset, skipped);\n                    // exit the cluster\n                }\n            } else if (skipped < offset) {\n                // skip a single point\n                skipped++;\n            } else {\n                // add a single point\n                result.push(child);\n            }\n            if (result.length === limit) break;\n        }\n\n        return skipped;\n    }\n\n    _addTileFeatures(ids, points, x, y, z2, tile) {\n        for (const i of ids) {\n            const c = points[i];\n            const isCluster = c.numPoints;\n\n            let tags, px, py;\n            if (isCluster) {\n                tags = getClusterProperties(c);\n                px = c.x;\n                py = c.y;\n            } else {\n                const p = this.points[c.index];\n                tags = p.properties;\n                px = lngX(p.geometry.coordinates[0]);\n                py = latY(p.geometry.coordinates[1]);\n            }\n\n            const f = {\n                type: 1,\n                geometry: [[\n                    Math.round(this.options.extent * (px * z2 - x)),\n                    Math.round(this.options.extent * (py * z2 - y))\n                ]],\n                tags\n            };\n\n            // assign id\n            let id;\n            if (isCluster) {\n                id = c.id;\n            } else if (this.options.generateId) {\n                // optionally generate id\n                id = c.index;\n            } else if (this.points[c.index].id) {\n                // keep id if already assigned\n                id = this.points[c.index].id;\n            }\n\n            if (id !== undefined) f.id = id;\n\n            tile.features.push(f);\n        }\n    }\n\n    _limitZoom(z) {\n        return Math.max(this.options.minZoom, Math.min(+z, this.options.maxZoom + 1));\n    }\n\n    _cluster(points, zoom) {\n        const clusters = [];\n        const {radius, extent, reduce, minPoints} = this.options;\n        const r = radius / (extent * Math.pow(2, zoom));\n\n        // loop through each point\n        for (let i = 0; i < points.length; i++) {\n            const p = points[i];\n            // if we've already visited the point at this zoom level, skip it\n            if (p.zoom <= zoom) continue;\n            p.zoom = zoom;\n\n            // find all nearby points\n            const tree = this.trees[zoom + 1];\n            const neighborIds = tree.within(p.x, p.y, r);\n\n            const numPointsOrigin = p.numPoints || 1;\n            let numPoints = numPointsOrigin;\n\n            // count the number of points in a potential cluster\n            for (const neighborId of neighborIds) {\n                const b = tree.points[neighborId];\n                // filter out neighbors that are already processed\n                if (b.zoom > zoom) numPoints += b.numPoints || 1;\n            }\n\n            if (numPoints >= minPoints) { // enough points to form a cluster\n                let wx = p.x * numPointsOrigin;\n                let wy = p.y * numPointsOrigin;\n\n                let clusterProperties = reduce && numPointsOrigin > 1 ? this._map(p, true) : null;\n\n                // encode both zoom and point index on which the cluster originated -- offset by total length of features\n                const id = (i << 5) + (zoom + 1) + this.points.length;\n\n                for (const neighborId of neighborIds) {\n                    const b = tree.points[neighborId];\n\n                    if (b.zoom <= zoom) continue;\n                    b.zoom = zoom; // save the zoom (so it doesn't get processed twice)\n\n                    const numPoints2 = b.numPoints || 1;\n                    wx += b.x * numPoints2; // accumulate coordinates for calculating weighted center\n                    wy += b.y * numPoints2;\n\n                    b.parentId = id;\n\n                    if (reduce) {\n                        if (!clusterProperties) clusterProperties = this._map(p, true);\n                        reduce(clusterProperties, this._map(b));\n                    }\n                }\n\n                p.parentId = id;\n                clusters.push(createCluster(wx / numPoints, wy / numPoints, id, numPoints, clusterProperties));\n\n            } else { // left points as unclustered\n                clusters.push(p);\n\n                if (numPoints > 1) {\n                    for (const neighborId of neighborIds) {\n                        const b = tree.points[neighborId];\n                        if (b.zoom <= zoom) continue;\n                        b.zoom = zoom;\n                        clusters.push(b);\n                    }\n                }\n            }\n        }\n\n        return clusters;\n    }\n\n    // get index of the point from which the cluster originated\n    _getOriginId(clusterId) {\n        return (clusterId - this.points.length) >> 5;\n    }\n\n    // get zoom of the point from which the cluster originated\n    _getOriginZoom(clusterId) {\n        return (clusterId - this.points.length) % 32;\n    }\n\n    _map(point, clone) {\n        if (point.numPoints) {\n            return clone ? extend({}, point.properties) : point.properties;\n        }\n        const original = this.points[point.index].properties;\n        const result = this.options.map(original);\n        return clone && result === original ? extend({}, result) : result;\n    }\n}\n\nfunction createCluster(x, y, id, numPoints, properties) {\n    return {\n        x: fround(x), // weighted cluster center; round for consistency with Float32Array index\n        y: fround(y),\n        zoom: Infinity, // the last zoom the cluster was processed at\n        id, // encodes index of the first child of the cluster and its zoom level\n        parentId: -1, // parent cluster id\n        numPoints,\n        properties\n    };\n}\n\nfunction createPointCluster(p, id) {\n    const [x, y] = p.geometry.coordinates;\n    return {\n        x: fround(lngX(x)), // projected point coordinates\n        y: fround(latY(y)),\n        zoom: Infinity, // the last zoom the point was processed at\n        index: id, // index of the source feature in the original input array,\n        parentId: -1 // parent cluster id\n    };\n}\n\nfunction getClusterJSON(cluster) {\n    return {\n        type: 'Feature',\n        id: cluster.id,\n        properties: getClusterProperties(cluster),\n        geometry: {\n            type: 'Point',\n            coordinates: [xLng(cluster.x), yLat(cluster.y)]\n        }\n    };\n}\n\nfunction getClusterProperties(cluster) {\n    const count = cluster.numPoints;\n    const abbrev =\n        count >= 10000 ? `${Math.round(count / 1000)  }k` :\n        count >= 1000 ? `${Math.round(count / 100) / 10  }k` : count;\n    return extend(extend({}, cluster.properties), {\n        cluster: true,\n        cluster_id: cluster.id,\n        point_count: count,\n        point_count_abbreviated: abbrev\n    });\n}\n\n// longitude/latitude to spherical mercator in [0..1] range\nfunction lngX(lng) {\n    return lng / 360 + 0.5;\n}\nfunction latY(lat) {\n    const sin = Math.sin(lat * Math.PI / 180);\n    const y = (0.5 - 0.25 * Math.log((1 + sin) / (1 - sin)) / Math.PI);\n    return y < 0 ? 0 : y > 1 ? 1 : y;\n}\n\n// spherical mercator to longitude/latitude\nfunction xLng(x) {\n    return (x - 0.5) * 360;\n}\nfunction yLat(y) {\n    const y2 = (180 - y * 360) * Math.PI / 180;\n    return 360 * Math.atan(Math.exp(y2)) / Math.PI - 90;\n}\n\nfunction extend(dest, src) {\n    for (const id in src) dest[id] = src[id];\n    return dest;\n}\n\nfunction getX(p) {\n    return p.x;\n}\nfunction getY(p) {\n    return p.y;\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","import Supercluster from \"supercluster\";\nimport regeneratorRuntime from \"regenerator-runtime\";\n\nconst JITTER_FACTOR = 250;\n\nfunction scale(domain, range) {\n  const domainLength = domain[1] - domain[0];\n  const rangeLength = range[1] - range[0];\n  const slope = rangeLength / domainLength;\n  const intercept = range[1] - slope * domain[1];\n  return (x) => slope * x + intercept;\n}\n\nfunction loadShader(gl, type, source) {\n  const shader = gl.createShader(type);\n\n  gl.shaderSource(shader, source);\n\n  gl.compileShader(shader);\n\n  if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n    console.error(`Could not compile shader: ${gl.getShaderInfoLog(shader)}`);\n    gl.deleteShader(shader);\n    return null;\n  }\n  return shader;\n}\n\nfunction initShaderProgram(gl, vertexSource, fragmentSource) {\n  const vertexShader = loadShader(gl, gl.VERTEX_SHADER, vertexSource);\n  const fragmentShader = loadShader(gl, gl.FRAGMENT_SHADER, fragmentSource);\n\n  const shaderProgram = gl.createProgram();\n  gl.attachShader(shaderProgram, vertexShader);\n  gl.attachShader(shaderProgram, fragmentShader);\n  gl.linkProgram(shaderProgram);\n\n  if (!gl.getProgramParameter(shaderProgram, gl.LINK_STATUS)) {\n    console.error(\n      `Unable to initialize the shader program: ${gl.getProgramInfoLog(\n        shaderProgram\n      )}`\n    );\n    return null;\n  }\n\n  return shaderProgram;\n}\n\nfunction componentToHex(c) {\n  var hex = c.toString(16);\n  return hex.length == 1 ? \"0\" + hex : hex;\n}\n\nfunction rgbToHex(r, g, b) {\n  return parseInt(\n    Number(\"0x\" + componentToHex(r) + componentToHex(g) + componentToHex(b)),\n    10\n  );\n}\n\nconst createMessanger = (clazz, self) => {\n  return (e) => {\n    switch (e.data.type) {\n      case \"init\":\n        self.drawer = new clazz(e.data);\n        break;\n      case \"state\":\n        self.drawer.receiveState(e.data);\n        break;\n      case \"render\":\n        self.drawer.receiveState(e.data);\n        self.drawer.render();\n        break;\n      default:\n        console.error(`Received unknown message type: ${e}`);\n    }\n  };\n};\n\nclass SuperclusterMapper {\n  constructor(points, xRange, yRange, options = { radius: 1000, maxZoom: 16 }) {\n    this.xScale = scale(xRange, [-180, 180]);\n    this.yScale = scale(yRange, [-90, 90]);\n\n    this.xScaleInverse = scale([-180, 180], xRange);\n    this.yScaleInverse = scale([-90, 90], yRange);\n\n    this.index = new Supercluster(options);\n\n    for (const point of points) {\n      point.geometry.coordinates = [\n        this.xScale(point.geometry.coordinates[0]),\n        this.yScale(point.geometry.coordinates[1]),\n      ];\n    }\n\n    this.index.load(points);\n  }\n\n  *getClusters(bbox, zoomLevel = 10) {\n    const inLatLong = this.index.getClusters(\n      [\n        this.xScale(bbox[0]),\n        this.yScale(bbox[1]),\n        this.xScale(bbox[2]),\n        this.yScale(bbox[3]),\n      ],\n      zoomLevel\n    );\n    for (const point of inLatLong) {\n      // use of generator here gives huge speedup since no heap changes needed\n      yield {\n        ...point,\n        geometry: {\n          coordinates: [\n            this.xScaleInverse(point.geometry.coordinates[0]),\n            this.yScaleInverse(point.geometry.coordinates[1]),\n          ],\n        },\n      };\n    }\n  }\n}\n\nconst getRandomColor = () => {\n  let r = Math.floor(Math.random() * 255);\n  let g = Math.floor(Math.random() * 255);\n  let b = Math.floor(Math.random() * 255);\n  return `rgb(${r}, ${g}, ${b})`;\n};\n\nconst getRandomColorAlpha = (alpha) => {\n  let r = Math.floor(Math.random() * 255);\n  let g = Math.floor(Math.random() * 255);\n  let b = Math.floor(Math.random() * 255);\n  return `rgba(${r}, ${g}, ${b}, ${alpha})`;\n};\n\nexport {\n  scale,\n  initShaderProgram,\n  loadShader,\n  rgbToHex,\n  createMessanger,\n  SuperclusterMapper,\n  getRandomColor,\n  getRandomColorAlpha,\n  JITTER_FACTOR,\n};\n","const vertexShader = `\n  attribute vec4 aVertexPosition;\n\n  void main() {\n      gl_Position = aVertexPosition;\n  }\n`;\n\nconst squaresFragmentShader = `\n  precision mediump float;\n  uniform float uGridSize;\n  uniform vec4 viewport;\n  void main() {\n    vec4 ndcPos;\n    // Reverse calculations from window space to clip space (normalized device coordinates)\n    ndcPos.xy = ((2.0 * gl_FragCoord.xy) - (2.0 * viewport.xy)) / (viewport.zw) - 1.0;\n    ndcPos.xy = ndcPos.xy - mod(ndcPos.xy, 1.0 / uGridSize);\n    gl_FragColor = vec4(ndcPos.x/2.0 + 0.5 , 0, ndcPos.y/2.0 + 0.5, 1.0);\n  }\n`;\n\nconst colorPointsVertexShader = `\n  attribute vec4 aVertexPosition;\n  attribute vec4 aVertexColor;\n\n  varying lowp vec4 vColor;\n\n  void main(void) {\n    gl_Position = aVertexPosition;\n    vColor = aVertexColor;\n    gl_PointSize = 1.0;\n  }\n`;\n\nconst colorPointsFragmentShader = `\n  varying lowp vec4 vColor;\n\n  void main(void) {\n    gl_FragColor = vColor;\n  }\n`;\n\nexport {\n  vertexShader,\n  squaresFragmentShader,\n  colorPointsVertexShader,\n  colorPointsFragmentShader,\n};\n","import Drawer from \"./drawer\";\nimport { scale, initShaderProgram, JITTER_FACTOR } from \"./utilities\";\nimport {\n  vertexShader,\n  squaresFragmentShader,\n  colorPointsVertexShader,\n  colorPointsFragmentShader,\n} from \"./webgl.js\";\n\n// Largely taken from\n// https://github.com/mdn/webgl-examples/blob/gh-pages/tutorial/sample2/webgl-demo.js\n\nclass WebGLCanvasDrawer extends Drawer {\n  constructor(data) {\n    super(data);\n\n    this.gl = this.canvas.getContext(\"webgl\");\n\n    if (!this.gl) {\n      console.error(\"Unable to initialize WebGL!\");\n      return;\n    }\n  }\n\n  getWebGLViewport() {\n    // Calculate appropriate webgl viewport given current selection window\n    const windowWidth = this.currentXRange[1] - this.currentXRange[0];\n    const windowHeight = this.currentYRange[1] - this.currentYRange[0];\n\n    const displayAsIfThisWide =\n      ((this.maxX - this.minX) / windowWidth) * this.width;\n    const displayAsIfThisHigh =\n      ((this.maxY - this.minY) / windowHeight) * this.height;\n\n    const scaleXWindowSpace = scale(\n      [this.minX, this.maxX],\n      [0, -displayAsIfThisWide]\n    );\n    const scaleYWindowSpace = scale(\n      [this.minY, this.maxY],\n      [0, -displayAsIfThisHigh]\n    );\n\n    const toReturnX = scaleXWindowSpace(this.currentXRange[0]);\n    const toReturnY = scaleYWindowSpace(this.currentYRange[0]);\n\n    return [toReturnX, toReturnY, displayAsIfThisWide, displayAsIfThisHigh];\n  }\n\n  animateSquares() {\n    if (!this.needsAnimation) {\n      this.lastFrame = requestAnimationFrame(this.animateSquares.bind(this));\n      this.tick();\n      return;\n    }\n\n    this.gl.clearColor(0.0, 0.0, 0.0, 1.0);\n    this.gl.clear(this.gl.COLOR_BUFFER_BIT);\n\n    const viewport = this.getWebGLViewport();\n\n    this.gl.viewport(viewport[0], viewport[1], viewport[2], viewport[3]);\n\n    this.gl.uniform4fv(\n      this.programInfo.uniformLocations.viewport,\n      this.gl.getParameter(this.gl.VIEWPORT)\n    );\n\n    this.gl.drawArrays(\n      this.gl.TRIANGLES,\n      0, // stride\n      this.vertexCount // vertex count\n    );\n\n    this.needsAnimation = false;\n    this.lastFrame = requestAnimationFrame(this.animateSquares.bind(this));\n    this.tick();\n  }\n\n  renderSquares() {\n    this.trueBoxWidth = (this.maxX - this.minX) / Math.sqrt(this.count.value);\n    this.trueBoxHeight = (this.maxY - this.minY) / Math.sqrt(this.count.value);\n\n    this.shaderProgram = initShaderProgram(\n      this.gl,\n      vertexShader,\n      squaresFragmentShader\n    );\n\n    this.programInfo = {\n      program: this.shaderProgram,\n      attribLocations: {\n        vertexPosition: this.gl.getAttribLocation(\n          this.shaderProgram,\n          \"aVertexPosition\"\n        ),\n      },\n      uniformLocations: {\n        gridSize: this.gl.getUniformLocation(this.shaderProgram, \"uGridSize\"),\n        viewport: this.gl.getUniformLocation(this.shaderProgram, \"viewport\"),\n      },\n    };\n    this.positionBuffer = this.gl.createBuffer();\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionBuffer);\n\n    const scaleX = scale([this.minX, this.maxX], [-1, 1]);\n    const scaleY = scale([this.minY, this.maxY], [-1, 1]);\n    const positions = [];\n    for (let x = this.minX; x < this.maxX; x += this.trueBoxWidth) {\n      for (let y = this.minY; y < this.maxY; y += this.trueBoxHeight) {\n        positions.push(\n          scaleX(x),\n          scaleY(y),\n          scaleX(x + this.trueBoxWidth),\n          scaleY(y),\n          scaleX(x + this.trueBoxWidth),\n          scaleY(y + this.trueBoxHeight)\n        );\n\n        positions.push(\n          scaleX(x),\n          scaleY(y),\n          scaleX(x),\n          scaleY(y + this.trueBoxHeight),\n          scaleX(x + this.trueBoxWidth),\n          scaleY(y + this.trueBoxHeight)\n        );\n      }\n    }\n\n    this.vertexCount = positions.length / 2;\n\n    this.gl.bufferData(\n      this.gl.ARRAY_BUFFER,\n      new Float32Array(positions),\n      this.gl.STATIC_DRAW\n    );\n\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionBuffer);\n    this.gl.vertexAttribPointer(\n      this.programInfo.attribLocations.vertexPosition,\n      2, // numComponents\n      this.gl.FLOAT, // type\n      false, // normalize\n      0, // stride\n      0 // offset\n    );\n    this.gl.enableVertexAttribArray(\n      this.programInfo.attribLocations.vertexPosition\n    );\n\n    this.gl.useProgram(this.programInfo.program);\n\n    this.gl.uniform1f(\n      this.programInfo.uniformLocations.gridSize,\n      Math.sqrt(this.count.value) / 2\n    );\n\n    this.needsAnimation = true;\n    this.animateSquares();\n  }\n\n  animateJittered() {\n    if (!this.needsAnimation) {\n      this.lastFrame = requestAnimationFrame(this.animateJittered.bind(this));\n      this.tick();\n      return;\n    }\n\n    this.gl.disable(this.gl.BLEND);\n\n    this.gl.clearColor(0.0, 0.0, 0.0, 1.0);\n    this.gl.clear(this.gl.COLOR_BUFFER_BIT);\n\n    const viewport = this.getWebGLViewport();\n\n    this.gl.viewport(viewport[0], viewport[1], viewport[2], viewport[3]);\n\n    this.gl.drawArrays(\n      this.gl.TRIANGLES,\n      0, // stride\n      this.vertexCount // vertex count\n    );\n\n    this.needsAnimation = false;\n    this.lastFrame = requestAnimationFrame(this.animateJittered.bind(this));\n    this.tick();\n  }\n\n  renderJittered() {\n    this.trueBoxWidth = (this.maxX - this.minX) / Math.sqrt(this.count.value);\n    this.trueBoxHeight = (this.maxY - this.minY) / Math.sqrt(this.count.value);\n    const scaleX = scale([this.minX, this.maxX], [-1, 1]);\n    const scaleY = scale([this.minY, this.maxY], [-1, 1]);\n\n    const scaleXWithJitter = (x) => {\n      const inClipSpace = scaleX(\n        x - JITTER_FACTOR / 2 + Math.random() * JITTER_FACTOR\n      );\n      if (inClipSpace < -1) return -1;\n      if (inClipSpace > 1) return 1;\n      return inClipSpace;\n    };\n    const scaleYWithJitter = (y) => {\n      const inClipSpace = scaleY(\n        y - JITTER_FACTOR / 2 + Math.random() * JITTER_FACTOR\n      );\n      if (inClipSpace < -1) return -1;\n      if (inClipSpace > 1) return 1;\n      return inClipSpace;\n    };\n\n    const scaleBlue = scale([this.minX, this.maxX], [0, 1]);\n    const scaleRed = scale([this.minY, this.maxY], [0, 1]);\n\n    this.shaderProgram = initShaderProgram(\n      this.gl,\n      colorPointsVertexShader,\n      colorPointsFragmentShader\n    );\n\n    this.programInfo = {\n      program: this.shaderProgram,\n      attribLocations: {\n        vertexPosition: this.gl.getAttribLocation(\n          this.shaderProgram,\n          \"aVertexPosition\"\n        ),\n        vertexColor: this.gl.getAttribLocation(\n          this.shaderProgram,\n          \"aVertexColor\"\n        ),\n      },\n    };\n\n    const colors = [];\n    const positions = [];\n    for (let x = this.minX; x < this.maxX; x += this.trueBoxWidth) {\n      for (let y = this.minY; y < this.maxY; y += this.trueBoxHeight) {\n        positions.push(\n          scaleXWithJitter(x),\n          scaleYWithJitter(y),\n          scaleXWithJitter(x + this.trueBoxWidth),\n          scaleYWithJitter(y),\n          scaleXWithJitter(x + this.trueBoxWidth),\n          scaleYWithJitter(y + this.trueBoxHeight)\n        );\n\n        positions.push(\n          scaleXWithJitter(x),\n          scaleYWithJitter(y),\n          scaleXWithJitter(x),\n          scaleYWithJitter(y + this.trueBoxHeight),\n          scaleXWithJitter(x + this.trueBoxWidth),\n          scaleYWithJitter(y + this.trueBoxHeight)\n        );\n\n        colors.push(scaleRed(y), 0, scaleBlue(x), 1.0);\n        colors.push(scaleRed(y), 0, scaleBlue(x), 1.0);\n        colors.push(scaleRed(y), 0, scaleBlue(x), 1.0);\n        colors.push(scaleRed(y), 0, scaleBlue(x), 1.0);\n        colors.push(scaleRed(y), 0, scaleBlue(x), 1.0);\n        colors.push(scaleRed(y), 0, scaleBlue(x), 1.0);\n      }\n    }\n\n    this.vertexCount = positions.length / 2;\n\n    this.positionBuffer = this.gl.createBuffer();\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionBuffer);\n    this.gl.bufferData(\n      this.gl.ARRAY_BUFFER,\n      new Float32Array(positions),\n      this.gl.STATIC_DRAW\n    );\n\n    this.colorBuffer = this.gl.createBuffer();\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.colorBuffer);\n    this.gl.bufferData(\n      this.gl.ARRAY_BUFFER,\n      new Float32Array(colors),\n      this.gl.STATIC_DRAW\n    );\n\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionBuffer);\n    this.gl.vertexAttribPointer(\n      this.programInfo.attribLocations.vertexPosition,\n      2, // numComponents\n      this.gl.FLOAT, // type\n      false, // normalize\n      0, // stride\n      0 // offset\n    );\n    this.gl.enableVertexAttribArray(\n      this.programInfo.attribLocations.vertexPosition\n    );\n\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.colorBuffer);\n    this.gl.vertexAttribPointer(\n      this.programInfo.attribLocations.vertexColor,\n      4, // numComponents\n      this.gl.FLOAT, // type\n      false, // normalize\n      0, // stride\n      0 // offset\n    );\n    this.gl.enableVertexAttribArray(\n      this.programInfo.attribLocations.vertexColor\n    );\n\n    this.gl.useProgram(this.programInfo.program);\n\n    this.needsAnimation = true;\n    this.animateJittered();\n  }\n\n  animateRandom() {\n    if (!this.needsAnimation) {\n      this.lastFrame = requestAnimationFrame(this.animateRandom.bind(this));\n      this.tick();\n      return;\n    }\n\n    this.gl.clearColor(0.0, 0.0, 0.0, 1.0);\n    this.gl.clear(this.gl.COLOR_BUFFER_BIT);\n\n    const viewport = this.getWebGLViewport();\n\n    this.gl.viewport(viewport[0], viewport[1], viewport[2], viewport[3]);\n\n    this.gl.drawArrays(\n      this.gl.POINTS,\n      0, // stride\n      this.count.value // vertex count\n    );\n\n    this.needsAnimation = false;\n    this.lastFrame = requestAnimationFrame(this.animateRandom.bind(this));\n    this.tick();\n  }\n\n  renderRandom() {\n    this.shaderProgram = initShaderProgram(\n      this.gl,\n      colorPointsVertexShader,\n      colorPointsFragmentShader\n    );\n\n    this.programInfo = {\n      program: this.shaderProgram,\n      attribLocations: {\n        vertexPosition: this.gl.getAttribLocation(\n          this.shaderProgram,\n          \"aVertexPosition\"\n        ),\n        vertexColor: this.gl.getAttribLocation(\n          this.shaderProgram,\n          \"aVertexColor\"\n        ),\n      },\n    };\n\n    const positions = [];\n    for (let i = 0; i < this.count.value; i++) {\n      positions.push(-1 + 2 * Math.random(), -1 + 2 * Math.random());\n    }\n\n    this.positionBuffer = this.gl.createBuffer();\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionBuffer);\n    this.gl.bufferData(\n      this.gl.ARRAY_BUFFER,\n      new Float32Array(positions),\n      this.gl.STATIC_DRAW\n    );\n\n    const colors = [];\n    for (let i = 0; i < this.count.value; i++) {\n      colors.push(Math.random(), Math.random(), Math.random(), 1.0);\n    }\n    this.colorBuffer = this.gl.createBuffer();\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.colorBuffer);\n    this.gl.bufferData(\n      this.gl.ARRAY_BUFFER,\n      new Float32Array(colors),\n      this.gl.STATIC_DRAW\n    );\n\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionBuffer);\n    this.gl.vertexAttribPointer(\n      this.programInfo.attribLocations.vertexPosition,\n      2, // numComponents\n      this.gl.FLOAT, // type\n      false, // normalize\n      0, // stride\n      0 // offset\n    );\n    this.gl.enableVertexAttribArray(\n      this.programInfo.attribLocations.vertexPosition\n    );\n\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.colorBuffer);\n    this.gl.vertexAttribPointer(\n      this.programInfo.attribLocations.vertexColor,\n      4, // numComponents\n      this.gl.FLOAT, // type\n      false, // normalize\n      0, // stride\n      0 // offset\n    );\n    this.gl.enableVertexAttribArray(\n      this.programInfo.attribLocations.vertexColor\n    );\n\n    this.gl.useProgram(this.programInfo.program);\n\n    if (this.lastFrame) {\n      cancelAnimationFrame(this.lastFrame);\n    }\n    this.needsAnimation = true;\n    this.animateRandom();\n  }\n\n  animateTSNE() {\n    if (!this.needsAnimation) {\n      this.lastFrame = requestAnimationFrame(this.animateTSNE.bind(this));\n      this.tick();\n      return;\n    }\n\n    this.gl.enable(this.gl.BLEND);\n    this.gl.blendFunc(this.gl.SRC_COLOR, this.gl.DST_COLOR);\n\n    // Clear the canvas before we start drawing on it.\n    this.gl.clearColor(0.0, 0.0, 0.0, 1.0);\n\n    this.gl.clear(this.gl.COLOR_BUFFER_BIT);\n\n    const viewport = this.getWebGLViewport();\n\n    this.gl.viewport(viewport[0], viewport[1], viewport[2], viewport[3]);\n\n    this.gl.drawArrays(\n      this.gl.POINTS,\n      0, // stride\n      this.vertexCount // vertex count\n    );\n\n    this.needsAnimation = false;\n    this.lastFrame = requestAnimationFrame(this.animateTSNE.bind(this));\n    this.tick();\n  }\n\n  renderTSNE() {\n    this.sampleColors = new Map( // Create colors for sample type\n      \"ABCDEFGHIJKLMNOPQRSTUVWXYZ012\"\n        .split(\"\")\n        .map((letter) => [\n          letter,\n          [Math.random(), Math.random(), Math.random(), 0.01],\n        ])\n    );\n    this.xTSNEScale = scale([-10, 10], [-1, 1]);\n    this.yTSNEScale = scale([-10, 10], [-1, 1]);\n\n    this.shaderProgram = initShaderProgram(\n      this.gl,\n      colorPointsVertexShader,\n      colorPointsFragmentShader\n    );\n\n    this.programInfo = {\n      program: this.shaderProgram,\n      attribLocations: {\n        vertexPosition: this.gl.getAttribLocation(\n          this.shaderProgram,\n          \"aVertexPosition\"\n        ),\n        vertexColor: this.gl.getAttribLocation(\n          this.shaderProgram,\n          \"aVertexColor\"\n        ),\n      },\n    };\n\n    const positions = [];\n    const colors = [];\n    let i = 0;\n    for (const point of this.csv) {\n      positions.push(\n        this.xTSNEScale(point.geometry.coordinates[0]),\n        this.yTSNEScale(point.geometry.coordinates[1])\n      );\n      colors.push(...this.sampleColors.get(point.sample));\n    }\n\n    this.vertexCount = positions.length / 2;\n    this.positionBuffer = this.gl.createBuffer();\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionBuffer);\n    this.gl.bufferData(\n      this.gl.ARRAY_BUFFER,\n      new Float32Array(positions),\n      this.gl.STATIC_DRAW\n    );\n\n    this.colorBuffer = this.gl.createBuffer();\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.colorBuffer);\n    this.gl.bufferData(\n      this.gl.ARRAY_BUFFER,\n      new Float32Array(colors),\n      this.gl.STATIC_DRAW\n    );\n\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionBuffer);\n    this.gl.vertexAttribPointer(\n      this.programInfo.attribLocations.vertexPosition,\n      2, // numComponents\n      this.gl.FLOAT, // type\n      false, // normalize\n      0, // stride\n      0 // offset\n    );\n    this.gl.enableVertexAttribArray(\n      this.programInfo.attribLocations.vertexPosition\n    );\n\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.colorBuffer);\n    this.gl.vertexAttribPointer(\n      this.programInfo.attribLocations.vertexColor,\n      4, // numComponents\n      this.gl.FLOAT, // type\n      false, // normalize\n      0, // stride\n      0 // offset\n    );\n    this.gl.enableVertexAttribArray(\n      this.programInfo.attribLocations.vertexColor\n    );\n\n    this.gl.useProgram(this.programInfo.program);\n\n    if (this.lastFrame) {\n      cancelAnimationFrame(this.lastFrame);\n    }\n    this.needsAnimation = true;\n    this.animateTSNE();\n  }\n}\n\nexport default WebGLCanvasDrawer;\n","import WebGLCanvasDrawer from \"./canvas-webgl-drawer\";\nimport { createMessanger } from \"./utilities\";\n\nclass OffscreenWebGLCanvasDrawer extends WebGLCanvasDrawer {\n  tick() {\n    postMessage({ type: \"tick\" });\n  }\n}\n\nself.onmessage = createMessanger(OffscreenWebGLCanvasDrawer, self);\n"]}